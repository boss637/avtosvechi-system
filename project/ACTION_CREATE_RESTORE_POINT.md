## üöÄ –°–æ–∑–¥–∞—Ç—å –¢–æ—á–∫—É –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –°–∏—Å—Ç–µ–º—ã

## 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ ‚Äî –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è **–ø–æ–ª–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞**. –û–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–æ—á–∫—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç:

*   **–î–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** –≤ —Ñ–æ—Ä–º–∞—Ç–µ SQL
*   **–ê—Ä—Ö–∏–≤ –≤—Å–µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞** –ø—Ä–æ–µ–∫—Ç–∞
*   **–ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã

–ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –¥–∞—Ç—É, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Ö–µ—à Git-–∫–æ–º–º–∏—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É **–ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∑–Ω–∞—á–∏–º—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏** –≤ —Å–∏—Å—Ç–µ–º–µ.

## 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–í–ê–ñ–ù–û!)

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ —É–ª—É—á—à–µ–Ω–∞. –¢–µ–ø–µ—Ä—å **–∫–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞** –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `~/autoshop/backups/`, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `backups/`:**
```
backups/
‚îú‚îÄ‚îÄ latest -> –ò–¥–µ–∞–ª—å–Ω–∞—è_—Ç–æ—á–∫–∞_–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è_22.01.2026_–∫–æ–º–º–∏—Ç_d701aac
‚îú‚îÄ‚îÄ CURRENT_STABLE.txt
‚îú‚îÄ‚îÄ 2026-01-22_–ò–¥–µ–∞–ª—å–Ω–∞—è_—Ç–æ—á–∫–∞_–∫–æ–º–º–∏—Ç_d701aac/
‚îÇ   ‚îú‚îÄ‚îÄ db_dump.sql.gz
‚îÇ   ‚îú‚îÄ‚îÄ code_snapshot.tar.gz
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏–µ —Ç–æ—á–∫–∏)
```

*   **`latest`** ‚Äî —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ **–ø–æ—Å–ª–µ–¥–Ω—é—é —Å–æ–∑–¥–∞–Ω–Ω—É—é** —Ç–æ—á–∫—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.
*   **`CURRENT_STABLE.txt`** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ **–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é, —Å—Ç–∞–±–∏–ª—å–Ω—É—é** —Ç–æ—á–∫—É –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

## 3. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∑–∞–º–µ–Ω–∏–≤ `"–í–∞—à–µ_–æ–ø–∏—Å–∞–Ω–∏–µ"` –Ω–∞ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"–î–æ–±–∞–≤–ª–µ–Ω_–Ω–æ–≤—ã–π_–∞–≥–µ–Ω—Ç_–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"`).

```bash
cd ~/autoshop && ./create_restore_point.sh "–í–∞—à–µ_–æ–ø–∏—Å–∞–Ω–∏–µ"
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º:**

```bash
cd ~/autoshop && ./create_restore_point.sh "–ò–¥–µ–∞–ª—å–Ω–∞—è_—Ç–æ—á–∫–∞_–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è_$(date +%d.%m.%Y)_–∫–æ–º–º–∏—Ç_$(git rev-parse --short HEAD)"
```

## 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –°–µ—Ä–≤–µ—Ä–µ

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ—á–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ —É–≤–∏–¥–µ—Ç—å –µ—ë –≤ —Å–ø–∏—Å–∫–µ.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
ls -la ~/autoshop/backups/ | grep -E "latest|^d.*$(date +%Y-%m)" | head -10
```

–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

1. –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É `latest`, —É–∫–∞–∑—ã–≤–∞—é—â—É—é –Ω–∞ —Å–≤–µ–∂—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.
2. –ù–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∏–º–µ–Ω–µ–º, –Ω–∞—á–∏–Ω–∞—é—â–∏–º—Å—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2026-01-23_...`).

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–æ—á–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
ls -lh ~/autoshop/backups/latest/
```

## 5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Å—ã–ª–∫—É `latest`:

```bash
# –ü—Ä–∏–º–µ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏
cat ~/autoshop/backups/latest/db_dump.sql.gz | gunzip | docker-compose exec -T postgres psql -U autoshop -d autoshop_db
```

–î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `CURRENT_STABLE.txt`:

```bash
# –£–∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è —Ç–æ—á–∫–∞ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è
STABLE_POINT=$(cat ~/autoshop/backups/CURRENT_STABLE.txt | head -1)
echo "–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: $STABLE_POINT"
```

üìÖ **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 23.01.2026
üîó –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ç–æ—á–∫–∞: –ò–¥–µ–∞–ª—å–Ω–∞—è_—Ç–æ—á–∫–∞_–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è_22.01.2026_–∫–æ–º–º–∏—Ç_d701aac
